const MAINARTICLE=document.getElementsByTagName("article")[0],MAINSIDEBAR=document.getElementsByTagName("aside")[0],TOTALHEADERS=MAINARTICLE.getElementsByTagName("h3").length,TOTALSECTIONS=MAINSIDEBAR.getElementsByClassName("sidebar-advertising").length,INARTICLEMAP=[[[760,0],[[728,90],[728,66],[468,60],"fluid"]],[[480,0],[[468,60],[320,100],"fluid"]],[[0,0],[[320,50],[320,100],[300,250],"fluid"]]],SIDEBARMAP=[[[1148,0],[[300,250],"fluid"]],[[760,0],[[468,60],[728,90],"fluid"]],[[480,0],[[320,50],[468,60],[320,100],"fluid"]],[[0,0],[[320,50],[320,100],[300,250],[336,280],"fluid"]]],BOUNDRY=100;let LoadedInArticleUnits=0,LoadedSidebarUnits=0,AdUnitList=[],ChannelList=[],setChannelList="";for(let e=0;e<CategoryList.length;e++)if(Object.keys(AdsenseChannels).includes(CategoryList[e])){let t=CategoryList[e];ChannelList.push(AdsenseChannels[t])}for(let e=0;e<ChannelList.length;e++)e==ChannelList.length-1?setChannelList+=ChannelList[e]:setChannelList+=ChannelList[e]+"+";for(let e=0;e<TOTALHEADERS;e++){let t=GenerateID(),i=document.createElement("div");i.setAttribute("class","leaderboard-adunit"),i.setAttribute("id",t),i.setAttribute("style","text-align:center");let n=MAINARTICLE.getElementsByTagName("h3")[e];MAINARTICLE.insertBefore(i,n)}for(let e=0;e<TOTALSECTIONS;e++){let t=GenerateID(),i=document.createElement("div");i.setAttribute("class","sidebar-adunit"),i.setAttribute("id",t),i.setAttribute("style","text-align:center;"),MAINSIDEBAR.getElementsByClassName("sidebar-advertising")[e].appendChild(i)}function CheckViewability(e,t,i,n,a,l){for(let s=0;s<t;s++){let t=document.getElementsByClassName(n)[s],d=t.getBoundingClientRect();if(d.top>-BOUNDRY&&d.bottom<window.innerHeight+BOUNDRY&&!t.classList.contains("loaded")){googletag.cmd.push(function(){let n=googletag.defineSlot(e,["fluid",[320,50],[468,60],[728,66],[728,90],[320,100],[300,250]],t.id).defineSizeMapping(i).setTargeting(a,s+1).set("adsense_channel_ids",setChannelList).addService(googletag.pubads());googletag.display(t.id),googletag.pubads().refresh([n])}),"InArticle"==l&&LoadedInArticleUnits++,"Sidebar"==l&&LoadedSidebarUnits++,t.classList.add("loaded");break}}}let CheckView=setInterval(function(){CheckViewability(GlobalInArticle,TOTALHEADERS,INARTICLEMAP,"leaderboard-adunit","slot","InArticle"),CheckViewability(GlobalSidebar,TOTALSECTIONS,SIDEBARMAP,"sidebar-adunit","position","Sidebar"),LoadedInArticleUnits==TOTALHEADERS&&LoadedSidebarUnits==TOTALSECTIONS&&clearInterval(CheckView)},50);function GenerateID(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}